<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="lzq">
    
    
    
    
    
    
    <title>虚拟化 | 冰的技术专栏</title>
    <link href="http://bingfly.top" rel="prefetch" />

    
<link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/aos.css">
<link rel="stylesheet" href="/css/style.css">

    
<script src="/js/jquery.min.js"></script>

    
<script src="/js/bootstrap.min.js"></script>

    
<script src="/js/aos.js"></script>

    
<script src="/js/highslide/highslide-full.min.js"></script>

    
<link rel="stylesheet" href="/js/highslide/highslide.css">

    <style type="text/css">
        @media (max-width: 768px) {
            body {
                background-color: #f0f0f0;
                background: url('/imgs/xsbg.gif');
                background-attachment: fixed;
            }
        }
    </style>
    
    <!--<script type="text/javascript">
      if (document.images) {
        var avatar = new Image();
        avatar.src = '/imgs/avatar.jpg'
        var previews = 'preview1.jpg,preview2.jpg,preview3.jpg,preview4.jpg,preview5.jpg,preview6.jpg,preview7.jpg,preview8.jpg,preview9.jpg,preview10.jpg,preview11.jpg,preview12.jpg,preview13.jpg,preview14.jpg,preview15.jpg'.split(',')
        var previewsPreLoad = []
        for(var i = 0; i < length; i++) {
          previewsPreLoad.push(new Image())
          previewsPreLoad[previewsPreLoad.length - 1].src = '/imgs/preview' + previews[i]
        }
      }
    </script>-->
<meta name="generator" content="Hexo 7.3.0"></head>
<body>
    <!-- 背景轮播图功能 -->
    <section class="hidden-xs">
    <ul class="cb-slideshow">
        <li><span>天若</span></li>
        <li><span>有情</span></li>
        <li><span>天亦老</span></li>
        <li><span>我为</span></li>
        <li><span>长者</span></li>
        <li><span>续一秒</span></li>
    </ul>
</section>
    <!-- 欧尼酱功能, 谁用谁知道 -->
    
    <div class="gal-menu gal-dropdown">
    <div class="circle" id="gal">
        <div class="ring">
            <a href="http://bingfly.top" class="menuItem" style="left: 50%; top: 15%;">首页</a>
            
            <a class="menuItem" style="left: 80.3109%; top: 32.5%;">下一页</a>
            
            <a href="/archives" class="menuItem" style="left: 80.3109%; top: 67.5%;">归档</a>
            <a href="/about" class="menuItem" style="left: 50%; top: 85%;">关于</a>
            <a href="/message" class="menuItem" style="left: 19.6891%; top: 67.5%;">留言板</a>

            
            <a class="menuItem" style="left: 19.6891%; top: 32.5%;">上一页</a>
            
        </div>
        <audio id="audio" src="/imgs/oni.mp3"></audio>
    </div>
</div>
    
    <header class="navbar navbar-inverse" id="gal-header">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed"
                    data-toggle="collapse" data-target=".bs-navbar-collapse"
                    aria-expanded="false">
                <span class="fa fa-lg fa-reorder"></span>
            </button>
            <a href="http://bingfly.top">
                
                <style>
                    #gal-header .navbar-brand {
                        height: 54px;
                        line-height: 24px;
                        font-size: 28px;
                        opacity: 1;
                        background-color: rgba(0,0,0,0);
                        text-shadow: 0 0 5px #fff,0 0 10px #fff,0 0 15px #fff,0 0 20px #228DFF,0 0 35px #228DFF,0 0 40px #228DFF,0 0 50px #228DFF,0 0 75px #228DFF;
                    }
                </style>
                <!-- 这里使用文字(navbar_text or config.title) -->
                <div class="navbar-brand">冰的技术专栏</div>
                
            </a>
        </div>
        <div class="collapse navbar-collapse bs-navbar-collapse">
            <ul class="nav navbar-nav" id="menu-gal">
                
                
                <li class="">
                    <a href="/">
                        <i class="fa fa-home"></i>首页
                    </a>
                </li>
                
                
                
                <li class="">
                    <a href="/archives">
                        <i class="fa fa-archive"></i>归档
                    </a>
                </li>
                
                
                
                
                <li class="dropdown">
                    <!-- TODO 添加hover dropdown效果 -->
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false" data-hover="dropdown">
                        <i class="fa fa-list"></i>分类
                    </a>
                    <ul class="dropdown-menu">
                        
                        
                        <li>
                            <a href="/categories/hexo-%E5%8D%9A%E5%AE%A2/">hexo+博客</a>
                        </li>
                        
                        <li>
                            <a href="/categories/Python%E5%9F%BA%E7%A1%80/">Python基础</a>
                        </li>
                        
                        <li>
                            <a href="/categories/Python%E9%9D%A2%E8%AF%95/">Python面试</a>
                        </li>
                        
                        
                        <li>
                            <a href="/categories">...</a>
                        </li>
                        
                        
                    </ul>
                </li>
                
                
                
                
                
                <li class="dropdown">
                    <!-- TODO 添加hover dropdown效果 -->
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false" data-hover="dropdown">
                        <i class="fa fa-tags"></i>标签
                    </a>
                    <ul class="dropdown-menu">
                        
                        
                        <li>
                            <a href="/tags/Python/">Python</a>
                        </li>
                        
                        <li>
                            <a href="/tags/Shell/">Shell</a>
                        </li>
                        
                        <li>
                            <a href="/tags/Linux/">Linux</a>
                        </li>
                        
                        
                        <li>
                            <a href="/tags">...</a>
                        </li>
                        
                        
                    </ul>
                </li>
                
                
                
                
                <li class="">
                    <a href="/about">
                        <i class="fa fa-user"></i>关于我
                    </a>
                </li>
                
                
            </ul>
        </div>
    </div>
</header>
    <div id="gal-body">
        <div class="container">
            <div class="row">
                <div class="col-md-8 gal-right" id="mainstay">
                    
<article class="article well article-body" id="article">
    <div class="breadcrumb">
        <i class="fa fa-home"></i>
        <a href="http://bingfly.top">冰的技术专栏</a>
        >
        <span>虚拟化</span>
    </div>
    <!-- 大型设备详细文章 -->
    <div class="hidden-xs">
        <div class="title-article">
            <h1>
                <a href="/2024/06/12/%E6%80%BB%E7%BB%93/22%E3%80%81KVM/">虚拟化</a>
            </h1>
        </div>
        <div class="tag-article">
            
            <span class="label label-gal">
                <i class="fa fa-tags"></i>
                
                <a href="/tags/KVM/">KVM</a>
                
            </span>
            
            <span class="label label-gal">
                <i class="fa fa-calendar"></i> 2024-06-12
            </span>
            
        </div>
    </div>
    <!-- 小型设备详细文章 -->
    <div class="visible-xs">
        <center>
            <div class="title-article">
                <h4>
                    <a href="/2024/06/12/%E6%80%BB%E7%BB%93/22%E3%80%81KVM/">虚拟化</a>
                </h4>
            </div>
            <p>
                <i class="fa fa-calendar"></i> 2024-06-12
            </p>
            <p>
                
                <i class="fa fa-tags"></i>
                
                <a href="/tags/KVM/">KVM</a>
                
                
                
            </p>
        </center>
    </div>
    <div class="content-article">
        <h2 id="一、虚拟化"><a href="#一、虚拟化" class="headerlink" title="一、虚拟化"></a>一、虚拟化</h2><h3 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、背景</h3><p>美国环境保护EPA报告中曾经统计过一组统计数据：EPA研究服务器和数据中心得能源效率时发现，实际上服务器只有5%得时间时在工作的，其他时间一直处于休眠状态，这样服务器的利用率就会很低，而且这些服务器一直处于开机状态，消耗的能源自然就很多</p>
<h3 id="2、虚拟化技术介绍"><a href="#2、虚拟化技术介绍" class="headerlink" title="2、虚拟化技术介绍"></a>2、虚拟化技术介绍</h3><p>通过虚拟化技术将一台计算机虚拟为多台逻辑计算机，在一台计算机上同时运行多个逻辑计算机，同时每个逻辑计算机可运行不同的操作系统，应用程序都可以在相互独立的空间内运行而互相不影响，从而提高计算机的工作效率</p>
<h3 id="3、虚拟化技术发展"><a href="#3、虚拟化技术发展" class="headerlink" title="3、虚拟化技术发展"></a>3、虚拟化技术发展</h3><p>雏形：<br>1961年，IBM709机器实现了分时系统，将CPU占用切分为多个极短的时间片(1&#x2F;100sec)每一个时间片执行不同的工作，通过对这些时间片进行轮询<br>从而将一个CPU伪装成多个CPU<br>1972年， IBM正式将system370机的分时系统命名为虚拟机<br>1990年， IBM推出的system390机支持逻辑分区（将一个CPU分为多份，相互独立，也就是逻辑分割）<br>Xen 2003年问世，是一个外部的hypervisor程序（虚拟机管理程序），能够控制虚拟机和给多个客户机分配资源<br>KVM：2007年问世，现已内置在kernel内核中的<br>Xen 支持的虚拟化技术：全虚拟化，半虚拟化<br>KVM：支持的虚拟化技术：全虚拟化</p>
<h3 id="4、虚拟化类型"><a href="#4、虚拟化类型" class="headerlink" title="4、虚拟化类型"></a>4、虚拟化类型</h3><p>1）全虚拟化：将物理硬件资源全部通过软件的方式抽象化，最后进行调用<br>使用的方法:使用hypervisor（VMM）软件，其原理是在底层硬件和服务器之间建立一个抽象层，而基于核心的虚拟机是面向Linux系统的开源产品hypervisor(VMM)可以捕捉CPU的指令，为指令访问硬件控制器和外设充当中介。</p>
<p>2）半虚拟化：需要修改操作系统</p>
<p>3）直通：直接使用物理硬件资源（需要支持，还不完善)</p>
<h3 id="5、虚拟化的特性特性："><a href="#5、虚拟化的特性特性：" class="headerlink" title="5、虚拟化的特性特性："></a>5、虚拟化的特性特性：</h3><p>优势：</p>
<ul>
<li>集中化管理（远程管理、维护）</li>
<li>提高硬件利用率（物理资源利用 率低-例如峰值，虚拟化解决了“空闲”容量）</li>
<li>动态调整机器&#x2F;资源配置（虚拟化把系统的应用程序和服务硬件分离、提高了灵活性）</li>
<li>高可靠（可部署额外的功能和方案，可提高透明负载均衡、迁移、恢复复制等应用环境）</li>
</ul>
<p>劣势：</p>
<ul>
<li>前期高额费用（ 初期的硬件支持）</li>
<li>降低硬件利用率（特定场景-例如极度吃资源的应用不一定适合虚拟化）</li>
<li>更大的错误影响面（本地物理机down机会导致虚拟机均不可用，同时可能虚拟机中文件全部损坏）</li>
<li>实施配置复杂、管理复杂（管理人员运维、排障困难）</li>
<li>一定的限制性（虚拟化技术涉及各种限制，必须与支持&#x2F;兼容虚拟化的服务器、应用程序及供应商结合使用）</li>
<li>安全性（虚拟化技术自身的安全隐患）</li>
</ul>
<h2 id="二、KVM概述"><a href="#二、KVM概述" class="headerlink" title="二、KVM概述"></a>二、KVM概述</h2><h3 id="1、KVM简介"><a href="#1、KVM简介" class="headerlink" title="1、KVM简介"></a>1、KVM简介</h3><p>Kernel-based Virtual Machine的简称，是一个开源的系统虚拟化模块，是RHEL 5.4推出的最新虚拟化技术，目前红帽只支持在64位的RHEL l5.4以上运行KVM，同时硬件需要支持VT技术，必须在64位bit环境中使用KVM。自Linux 2.6.20之后集成在Linux的各个主要发行版本中。它使用Linux自身的调度器进行管理，所以相对于Xen，其核心源码很少。KVM已成为学术界的主流VMM之一。</p>
<p>KVM的虚拟化需要硬件支持（如Intel VT技术或者AMD V技术)。是基于硬件的完全虚拟化。而Xen早期则是基于软件模拟的Para-Virtualization，新版本则是基于硬件支持的完全虚拟化。但Xen本身有自己的进程调度器，存储管理模块等，所以代码较为庞大。广为流传的商业系统虚拟化软件VMware ESX系列是基于软件模拟的Full-Virtualization。</p>
<p>通过一下命令可以查看系统是否支持VT</p>
<p>cat &#x2F;proc&#x2F;cpuinfo | grep ‘vmx’</p>
<p>KVM的前身是QEMU，08年被红帽收购并获得一项技术hypervisor，不过RedHat的KVM被认为是将成为未来Linux hypervisor的主流。</p>
<h3 id="2、KVM的作用"><a href="#2、KVM的作用" class="headerlink" title="2、KVM的作用"></a>2、KVM的作用</h3><ul>
<li><p>提高物理服务器的资源利用率(较少的在硬件上的投入)</p>
</li>
<li><p>可以批量部署</p>
</li>
<li><p>实现实时快照技术</p>
</li>
<li><p>支持克隆技术</p>
</li>
<li><p>可以实现虚拟机的离线迁移和动态迁移(提高IT部署的灵活性)</p>
</li>
<li><p>可以将资源动态调整(传统的IT架构资源是固定的，无法动态分配)</p>
</li>
</ul>
<h3 id="3、KVM-虚拟化架构-三种模式"><a href="#3、KVM-虚拟化架构-三种模式" class="headerlink" title="3、KVM 虚拟化架构&#x2F;三种模式"></a>3、KVM 虚拟化架构&#x2F;三种模式</h3><ul>
<li><p>客户模式(guestOS):VM中的OS为GuestOS</p>
<p>客户机在操作系统中运行的模式，客户机分为用户模式和Linux内核模式，作用如下：</p>
</li>
<li><p>用户模式：<br>为用户提供虚拟机管理的用户空间工具以及代表用户执行I&#x2F;O，Qemu工作在此模式下（Qemu的主要功能）</p>
</li>
<li><p>Linux内核模式：<br>模拟CPU、内存，实现客户模式切换，处理从客户模式的推出，KVM即运行在此模式下</p>
</li>
</ul>
<h3 id="4、KVM核心组件及作用"><a href="#4、KVM核心组件及作用" class="headerlink" title="4、KVM核心组件及作用"></a>4、KVM核心组件及作用</h3><ul>
<li>Guest：客户机系统，包括CPU（vCPU）、内存、驱动（Console、网卡、I&#x2F;O 设备驱动等），被 KVM 置于一种受限制的 CPU 模式下运行。</li>
<li>KVM：运行在内核空间，提供CPU 和内存的虚级化，以及客户机的 I&#x2F;O 拦截。Guest 的 I&#x2F;O 被 KVM 拦截后，交给 QEMU 处理。</li>
<li>QEMU：修改过的为 KVM 虚机使用的 QEMU 代码，运行在用户空间，提供硬件 I&#x2F;O 虚拟化，通过 IOCTL &#x2F;dev&#x2F;kvm 设备和 KVM 交互。</li>
</ul>
<h3 id="5、KVM工作流程"><a href="#5、KVM工作流程" class="headerlink" title="5、KVM工作流程"></a>5、KVM工作流程</h3><p>用户模式的 Qemu 利用接口 libkvm 通过 ioctl 系统调用进入内核模式。 KVM驱动为虚拟机创建虚拟 CPU 和虚拟内存，然后执行 VMLAU·NCH 指令进入客户模式，装载 Guest OS 并运行。Guest OS 运行过程中如果发生异常，则暂停Guest OS的运行并保存当前状态同时退出到内核模式来处理这些异常。 </p>
<p>内核模式处理这些异常时如果不需要 I&#x2F;O则处理完成后重新进入客户模式。如果需要 I&#x2F;O 则进入到用户模式， 则由 Qemu 来处理 I&#x2F;O，处理完成后进入内核模式，再进入客户模式</p>
<h3 id="6、KVM的优势"><a href="#6、KVM的优势" class="headerlink" title="6、KVM的优势"></a>6、KVM的优势</h3><p>1）KVM与VMware的优势</p>
<p>ESX的底层是VMkernel + linux，VMkernel启动后开始接管对硬件管理，然后启动第一个linux虚拟机，协助VMkernel一起来管理和调度硬件资源。</p>
<p>KVM是直接将linux kernel变成hypervisor，只需要从标准linux内核启动即可，linux kernel拥有的特性可以全部利用上。KVM架构上的优势使得它非常简洁，在开发出来仅三个多月就被合并到了标准内核。</p>
<p>2）KVM与Xen的优势</p>
<p>Kvm和xen的最大区别就是架构，KVM是直接构建在linux kernel之上，把linux kernel变成hypervisor，是利用kernel已有的的功能基础上开发KVM所不具备的功能。</p>
<p>Xen的hypervisor是自己从头开始构建的，对硬件资源的调度管理，虚拟机的管理，还有很多接口与linux kernel不兼容，然后对于xen，hypervisor需要通过Domain0对虚拟机提供硬件访问驱动支持。</p>
<p>虽然说现在3.0的kernel中结合了xen，但是大部分linux OS的内核还是2.6，即便是一些新的发行版OS，也还是2.6的内核，新内核要单独去升级。</p>
<h2 id="三、KVM虚拟化平台部署"><a href="#三、KVM虚拟化平台部署" class="headerlink" title="三、KVM虚拟化平台部署"></a>三、KVM虚拟化平台部署</h2><h3 id="1、虚拟机资源"><a href="#1、虚拟机资源" class="headerlink" title="1、虚拟机资源"></a>1、虚拟机资源</h3><p><strong>CPU</strong>：双核双线程-CPU虚拟化开启</p>
<p><strong>内存</strong>：8G </p>
<p><strong>硬盘</strong>：300G</p>
<p><strong>双网卡</strong>：单网卡</p>
<p><strong>操作系统</strong>：Centos 7.4（1708）</p>
<h3 id="2、实验环境"><a href="#2、实验环境" class="headerlink" title="2、实验环境"></a>2、实验环境</h3><h4 id="1）修改主机名"><a href="#1）修改主机名" class="headerlink" title="1）修改主机名"></a>1）修改主机名</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@kvm ~]# hostnamectl set-hostname kvm </span><br><span class="line">[root@kvm ~]# bash</span><br></pre></td></tr></table></figure>

<h4 id="2）将镜像光盘设为自动-永久挂载"><a href="#2）将镜像光盘设为自动-永久挂载" class="headerlink" title="2）将镜像光盘设为自动&#x2F;永久挂载"></a>2）将镜像光盘设为自动&#x2F;永久挂载</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@kvm ~]# vim /etc/fstab</span><br><span class="line">/dev/cdrom /mnt iso9660 defaults 0 0</span><br><span class="line">[root@kvm ~]# mount -a </span><br><span class="line">[root@kvm ~]# df -hT</span><br><span class="line">/dev/sr0    iso9660  4.3G 4.3G   0 100% /mnt</span><br></pre></td></tr></table></figure>

<h4 id="3）环境优化"><a href="#3）环境优化" class="headerlink" title="3）环境优化"></a>3）环境优化</h4><p>#是否反解DNS，设置为NO可以让客户端连接服务器更快</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@kvm ~]# vim /etc/ssh/sshd_config </span><br><span class="line">UseDNS no    #取消DNS注释，改为NO</span><br></pre></td></tr></table></figure>

<h4 id="4）制作本地YUM仓库"><a href="#4）制作本地YUM仓库" class="headerlink" title="4）制作本地YUM仓库"></a>4）制作本地YUM仓库</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@kvm ~]# mkdir /abc</span><br><span class="line">[root@kvm ~]# cd /etc/yum.repos.d/</span><br><span class="line">[root@kvm yum.repos.d]# ls</span><br><span class="line">CentOS-Base.repo CentOS-Debuginfo.repo CentOS-Media.repo  CentOS-Vault.repo</span><br><span class="line">CentOS-CR.repo  CentOS-fasttrack.repo CentOS-Sources.repo</span><br><span class="line">[root@kvm yum.repos.d]# mkdir bak</span><br><span class="line">[root@kvm yum.repos.d]# mv CentOS-* bak</span><br><span class="line">[root@kvm yum.repos.d]# ls</span><br><span class="line">bak</span><br><span class="line">[root@kvm yum.repos.d]# vim local.repo</span><br><span class="line">[local]</span><br><span class="line">name=kvm</span><br><span class="line">baseurl=file:///abc</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line">[root@kvm yum.repos.d]# yum clean all </span><br><span class="line">[root@kvm yum.repos.d]# yum repolist</span><br></pre></td></tr></table></figure>

<h4 id="5）关闭防火墙、核心防护"><a href="#5）关闭防火墙、核心防护" class="headerlink" title="5）关闭防火墙、核心防护"></a>5）关闭防火墙、核心防护</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@kvm yum.repos.d]# systemctl stop firewalld</span><br><span class="line">[root@kvm yum.repos.d]# systemctl disable firewalld</span><br><span class="line">Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.</span><br><span class="line">Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.</span><br><span class="line">[root@kvm yum.repos.d]# setenforce 0</span><br></pre></td></tr></table></figure>

<h3 id="3、安装KVM"><a href="#3、安装KVM" class="headerlink" title="3、安装KVM"></a>3、安装KVM</h3><h4 id="1）-安装KVM基本组件"><a href="#1）-安装KVM基本组件" class="headerlink" title="1） 安装KVM基本组件"></a>1） 安装KVM基本组件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 安装 GNOME 桌面环境 如果装了图形界面可以不需要装</span><br><span class="line">yum groupinstall -y &quot;GNOME Desktop&quot;</span><br><span class="line"># KVM 模块</span><br><span class="line">yum -y install qemu-kvm</span><br><span class="line"># 安装KVM 调试工具,可不安装</span><br><span class="line">yum -y install qemu-kvm-tools</span><br><span class="line"># 构建虚拟机的命令行工具</span><br><span class="line">yum -y install virt-install</span><br><span class="line"># qemu 组件,创建磁盘、启动虚拟机等</span><br><span class="line">yum -y install qemu-img</span><br><span class="line"># 网络支持工具</span><br><span class="line">yum -y install bridge-utils</span><br><span class="line"># 虚拟机管理工具</span><br><span class="line">yum -y install libvirt</span><br><span class="line"># 图形界面管理虚拟机 </span><br><span class="line">yum -y install virt-manager</span><br></pre></td></tr></table></figure>

<h4 id="2）检测CPU是否支持虚拟化"><a href="#2）检测CPU是否支持虚拟化" class="headerlink" title="2）检测CPU是否支持虚拟化"></a>2）检测CPU是否支持虚拟化</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@kvm ~]# cat /proc/cpuinfo | grep vmx     </span><br><span class="line">flags    : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon nopl xtopology tsc_reliable nonstop_tsc eagerfpu pni pclmulqdq vmx ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch ssbd ibrs ibpb stibp tpr_shadow vnmi ept vpid fsgsbase tsc_adjust bmi1 avx2 smep bmi2 invpcid mpx rdseed adx smap clflushopt xsaveopt xsavec arat spec_ctrl intel_stibp flush_l1d arch_capabilities</span><br></pre></td></tr></table></figure>



<h4 id="3）查看KVM模块是否已安装"><a href="#3）查看KVM模块是否已安装" class="headerlink" title="3）查看KVM模块是否已安装"></a>3）查看KVM模块是否已安装</h4><p><strong>Lsmod</strong>：显示已载入的系统模块</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@kvm ~]# lsmod | grep kvm</span><br><span class="line">kvm_intel       183621 0 </span><br><span class="line">kvm          586948 1 kvm_intel</span><br><span class="line">irqbypass       13503 1 kvm</span><br></pre></td></tr></table></figure>

<h4 id="4）-设置开启启动界面的显示模式"><a href="#4）-设置开启启动界面的显示模式" class="headerlink" title="4） 设置开启启动界面的显示模式"></a>4） 设置开启启动界面的显示模式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@kvm ~]# ln -sf /lib/systemd/system/graphical.target /etc/systemd/system/default.target</span><br></pre></td></tr></table></figure>

<h3 id="4、设置KVM网络"><a href="#4、设置KVM网络" class="headerlink" title="4、设置KVM网络"></a>4、设置KVM网络</h3><h4 id="1）KVM网络的两种模式："><a href="#1）KVM网络的两种模式：" class="headerlink" title="1）KVM网络的两种模式："></a><strong>1）KVM</strong>网络的两种模式：</h4><p><strong>① NAT:</strong> 默认设置，数据包由 NAT 方式通过主机的接口进行</p>
<p>传送，可以访问外网，但是无法从外部访问虚拟机网络</p>
<p><strong>② 网桥：</strong>这种模式允许虚拟机像一台独立的主机一样拥有网络，外部的机器可以直接访问到虚拟机内部，但需要网卡支持(一般有线网卡都支持)</p>
<p><strong>使用Bridge网桥模式进行部署</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@bdqn ~]# vim /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">TYPE=Ethernet</span><br><span class="line">PROXY_METHOD=none</span><br><span class="line">BROWSER_ONLY=no</span><br><span class="line">BOOTPROTO=none</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=no</span><br><span class="line">IPV6_AUTOCONF=yes</span><br><span class="line">IPV6_DEFROUTE=yes</span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">IPV6_ADDR_GEN_MODE=stable-privacy</span><br><span class="line">NAME=ens33</span><br><span class="line">UUID=aac61931-47a6-40e5-9511-68adf20e97c5</span><br><span class="line">DEVICE=ens33</span><br><span class="line">ONBOOT=yes</span><br><span class="line">#IPADDR=192.168.100.46</span><br><span class="line">#PREFIX=24</span><br><span class="line">#GATEWAY=192.168.100.1</span><br><span class="line">BRIDGE=br0     #删除原先地址，设置为网桥模式，关联br0网卡</span><br></pre></td></tr></table></figure>

<h4 id="2）创建、编辑桥接网卡"><a href="#2）创建、编辑桥接网卡" class="headerlink" title="2）创建、编辑桥接网卡"></a>2）创建、编辑桥接网卡</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@bdqn ~]# vim /etc/sysconfig/network-scripts/ifcfg-br0</span><br><span class="line">TYPE=Bridge</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">PEERDNS=yes</span><br><span class="line">PEERROUTES=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=yes</span><br><span class="line">IPV6_AUTOCONF=yes</span><br><span class="line">IPV6_DEFROUTE=yes</span><br><span class="line">IPV6_PEERDNS=yes</span><br><span class="line">IPV6_PEERROUTES=yes</span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">IPV6_ADDR_GEN_MODE=stable-privacy</span><br><span class="line">NAME=br0</span><br><span class="line">DEVICE=br0</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=192.168.226.200</span><br><span class="line">NETMASK=255.255.255.0</span><br><span class="line">GATEWAY=192.168.226.2</span><br></pre></td></tr></table></figure>

<h3 id="5、KVM部署与管理"><a href="#5、KVM部署与管理" class="headerlink" title="5、KVM部署与管理"></a>5、KVM部署与管理</h3><h4 id="1）创建KVM存储和镜像数据的目录、上传centos7镜像"><a href="#1）创建KVM存储和镜像数据的目录、上传centos7镜像" class="headerlink" title="1）创建KVM存储和镜像数据的目录、上传centos7镜像"></a>1）创建KVM存储和镜像数据的目录、上传centos7镜像</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@kvm network-scripts]# mkdir -p /data_kvm/iso</span><br><span class="line">[root@kvm network-scripts]# mkdir -p /data/_kvm/store</span><br><span class="line">[root@kvm network-scripts]# mkdir /abc</span><br><span class="line">[root@kvm network-scripts]# mount.cifs //192.168.226.1/LAMP-C7 /mnt</span><br><span class="line">Password for root@//192.168.226.1/LAMP-C7: </span><br><span class="line">[root@kvm network-scripts]# cd /abc</span><br><span class="line">[root@kvm abc]# cp -p CentOS-7-x86_64-DVD-1806.iso /data_kvm/iso/</span><br><span class="line">#查看镜像</span><br><span class="line">[root@kvm abc]# ll /data_kvm/iso/</span><br><span class="line">总用量 4481024</span><br><span class="line">-rwxr-xr-x. 1 root root 4588568576 2月 20 2019 CentOS-7-x86_64-DVD-1810.iso</span><br></pre></td></tr></table></figure>

<h4 id="2）使用虚拟系统管理器管理虚拟机"><a href="#2）使用虚拟系统管理器管理虚拟机" class="headerlink" title="2）使用虚拟系统管理器管理虚拟机"></a>2）使用虚拟系统管理器管理虚拟机</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@kvm kvmdata]# virt-manager</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208172458698.png" alt="image-20201208172458698"></p>
<h4 id="3）操作步骤"><a href="#3）操作步骤" class="headerlink" title="3）操作步骤"></a>3）操作步骤</h4><h5 id="①-第一步：创建存储池"><a href="#①-第一步：创建存储池" class="headerlink" title="① 第一步：创建存储池"></a>① 第一步：创建存储池</h5><p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208173008108.png" alt="image-20201208173008108"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208173239743.png" alt="image-20201208173239743"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208173320269.png" alt="image-20201208173320269"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208173408360.png" alt="image-20201208173408360"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208173425149.png" alt="image-20201208173425149"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208173506408.png" alt="image-20201208173506408"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208173553797.png" alt="image-20201208173553797"></p>
<p>一样的操作创建iso存储池</p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208182723697.png" alt="image-20201208182723697"></p>
<h5 id="②-在store存储池中创建存储卷"><a href="#②-在store存储池中创建存储卷" class="headerlink" title="② 在store存储池中创建存储卷"></a>② 在store存储池中创建存储卷</h5><p> <img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208182851841.png" alt="image-20201208182851841"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208182920221.png" alt="image-20201208182920221"></p>
<h5 id="③-创建虚拟机"><a href="#③-创建虚拟机" class="headerlink" title="③ 创建虚拟机"></a>③ 创建虚拟机</h5><p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208183020821.png" alt="image-20201208183020821"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208183037849.png" alt="image-20201208183037849"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208183054790.png" alt="image-20201208183054790"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208183111810.png" alt="image-20201208183111810"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208183137796.png" alt="image-20201208183137796"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208183156470.png" alt="image-20201208183156470"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208183212911.png" alt="image-20201208183212911"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208183242607.png" alt="image-20201208183242607"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208183343569.png" alt="image-20201208183343569"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208183505415.png" alt="image-20201208183505415"></p>
<p>启用最小化安装，节省空间</p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/image-20201208201108709.png" alt="image-20201208201108709"></p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/ima324234201741525.png" alt="image-20201208201741525"></p>

    </div>
</article>


<div id="comments-template"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script>
	if(!window.commentConfig) {
      window.commentConfig = {}
      window.commentConfig.title = '虚拟化'
    }
</script>

                </div>
                <aside class="col-md-4 gal-left" id="sidebar">
    <!-- 此为sidebar的搜索框, 非搜索结果页面 -->
<aside id="sidebar-search">
    <div class="search hidden-xs" data-aos="fade-up" data-aos-duration="2000">
        <form class="form-inline clearfix" id="search-form" method="get"
              action="/search/index.html">
            <input type="text" name="s" class="form-control" id="searchInput" placeholder="搜索文章~" autocomplete="off">
            <button class="btn btn-danger btn-gal" type="submit">
                <i class="fa fa-search"></i>
            </button>
        </form>
    </div>
</aside>
    <aside id="sidebar-author">
    <div class="panel panel-gal" data-aos="flip-right" data-aos-duration="3000">
        <div class="panel-heading" style="text-align: center">
            <i class="fa fa-quote-left"></i>
            lzq
            <i class="fa fa-quote-right"></i>
        </div>
        <div class="author-panel text-center">
            <img src="/imgs/avatar.jpg" width="140" height="140"
                 alt="个人头像" class="author-image">
            <p class="author-description"></p>
        </div>
    </div>
</aside>
    
    <aside id="sidebar-recent_comments">
    <div class="panel panel-gal recent hidden-xs" data-aos="fade-up" data-aos-duration="2000">
        <div class="panel-heading">
            <i class="fa fa-comments"></i>
            最新评论
            <i class="fa fa-times-circle panel-remove"></i>
            <i class="fa fa-chevron-circle-up panel-toggle"></i>
        </div>
        <ul class="list-group list-group-flush"></ul>
    </div>
</aside>
    
    <!-- 要配置好leancloud才能开启此小工具 -->
    
    
    <aside id="sidebar-recent_posts">
    <div class="panel panel-gal recent hidden-xs" data-aos="fade-up" data-aos-duration="2000">
        <div class="panel-heading">
            <i class="fa fa-refresh"></i>
            近期文章
            <i class="fa fa-times-circle panel-remove"></i>
            <i class="fa fa-chevron-circle-up panel-toggle"></i>
        </div>
        <ul class="list-group list-group-flush">
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/13/Python-100-Days-master/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E5%95%86%E4%B8%9A%E9%A1%B9%E7%9B%AE/">Django开发商业项目</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/13/Python-100-Days-master/Day46-60/46.Django%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/">Django快速上手</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Python%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8-%E5%9F%BA%E7%A1%80%E7%AF%87-2020/">Python基础题</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/%E7%95%AA%E5%A4%96%E7%AF%87/%E8%8B%B1%E8%AF%AD%E9%9D%A2%E8%AF%95/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/%E7%95%AA%E5%A4%96%E7%AF%87/%E7%9F%A5%E4%B9%8E%E9%97%AE%E9%A2%98%E5%9B%9E%E7%AD%94/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/%E7%95%AA%E5%A4%96%E7%AF%87/%E7%94%A8%E5%87%BD%E6%95%B0%E8%BF%98%E6%98%AF%E7%94%A8%E5%A4%8D%E6%9D%82%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/%E7%95%AA%E5%A4%96%E7%AF%87/%E7%8E%A9%E8%BD%ACPyCharm/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/%E7%95%AA%E5%A4%96%E7%AF%87/%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E5%8F%82%E8%80%83%E7%A4%BA%E4%BE%8B/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/%E7%95%AA%E5%A4%96%E7%AF%87/%E6%88%91%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9%E4%BA%86Python/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/%E7%95%AA%E5%A4%96%E7%AF%87/%E5%B8%B8%E8%A7%81%E5%8F%8D%E7%88%AC%E7%AD%96%E7%95%A5%E5%8F%8A%E5%BA%94%E5%AF%B9%E6%96%B9%E6%A1%88/"></a>
                </span>
            </li>
            
        </ul>
    </div>
</aside>
    
    
    <aside id="sidebar-rand_posts">
    <div class="panel panel-gal recent hidden-xs" data-aos="fade-up" data-aos-duration="2000">
        <div class="panel-heading">
            <i class="fa fa-refresh"></i>
            随机文章
            <i class="fa fa-times-circle panel-remove"></i>
            <i class="fa fa-chevron-circle-up panel-toggle"></i>
        </div>
        <ul class="list-group list-group-flush">
            
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/06/13/%E6%80%BB%E7%BB%93/4%E3%80%81Ansible/">Ansible</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day21-30/21-30.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day81-90/86.K-%E5%9D%87%E5%80%BC%E8%81%9A%E7%B1%BB/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day21-30/code/old/javascript/example02/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day21-30/code/old/javascript/example04/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day21-30/code/old/javascript/example10/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day21-30/code/new/web1901/css_practice_2/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day21-30/code/new/web1901/example_of_bom_1/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day21-30/code/new/web1901/example_of_form/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day21-30/code/new/web1901/example_of_layout/"></a>
                </span>
            </li>
            
        </ul>
    </div>
</aside>
    
    
    <aside id="gal-sets">
        <div class="panel panel-gal hidden-xs" data-aos="fade-up" data-aos-duration="2000">
            <ul class="nav nav-pills pills-gal">

                
                <li>
                    <a href="/2024/06/12/%E6%80%BB%E7%BB%93/22%E3%80%81KVM/index.html#sidebar-tags" data-toggle="tab" id="tags-tab">热门标签</a>
                </li>
                
                
                <li>
                    <a href="/2024/06/12/%E6%80%BB%E7%BB%93/22%E3%80%81KVM/index.html#sidebar-friend-links" data-toggle="tab" id="friend-links-tab">友情链接</a>
                </li>
                
                
                <li>
                    <a href="/2024/06/12/%E6%80%BB%E7%BB%93/22%E3%80%81KVM/index.html#sidebar-links" data-toggle="tab" id="links-tab">个人链接</a>
                </li>
                
            </ul>
            <div class="tab-content">
                
                <div class="cloud-tags tab-pane nav bs-sidenav fade" id="sidebar-tags">
    
    <a href="/tags/Python/" style="font-size: 14.762100618694623px;" class="tag-cloud-link">Python</a>
    
    <a href="/tags/Shell/" style="font-size: 13.789669852511318px;" class="tag-cloud-link">Shell</a>
    
    <a href="/tags/Linux/" style="font-size: 15.557253779704268px;" class="tag-cloud-link">Linux</a>
    
    <a href="/tags/Apache/" style="font-size: 17.73260938993004px;" class="tag-cloud-link">Apache</a>
    
    <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 11.868884422252993px;" class="tag-cloud-link">网络</a>
    
    <a href="/tags/Ceph/" style="font-size: 11.624229165574272px;" class="tag-cloud-link">Ceph</a>
    
    <a href="/tags/%E9%98%BF%E9%87%8C%E4%BA%91/" style="font-size: 12.826745233268651px;" class="tag-cloud-link">阿里云</a>
    
    <a href="/tags/K8s/" style="font-size: 10.192484885961951px;" class="tag-cloud-link">K8s</a>
    
    <a href="/tags/%E7%81%B0%E5%BA%A6%E5%8F%91%E5%B8%83/" style="font-size: 18.51273392403326px;" class="tag-cloud-link">灰度发布</a>
    
    <a href="/tags/MySQL/" style="font-size: 16.678115559555135px;" class="tag-cloud-link">MySQL</a>
    
    <a href="/tags/KVM/" style="font-size: 13.722795684509098px;" class="tag-cloud-link">KVM</a>
    
    <a href="/tags/OpenStack/" style="font-size: 15.851667490082026px;" class="tag-cloud-link">OpenStack</a>
    
    <a href="/tags/Docker/" style="font-size: 9.7238878830183px;" class="tag-cloud-link">Docker</a>
    
    <a href="/tags/ELK/" style="font-size: 11.790325870380558px;" class="tag-cloud-link">ELK</a>
    
    <a href="/tags/Ansible/" style="font-size: 9.65543414255838px;" class="tag-cloud-link">Ansible</a>
    
    <a href="/tags/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" style="font-size: 8.751332362436528px;" class="tag-cloud-link">负载均衡</a>
    
    <a href="/tags/Radis%E3%80%81Mongodb/" style="font-size: 8.307178321399562px;" class="tag-cloud-link">Radis、Mongodb</a>
    
    <a href="/tags/Nginx/" style="font-size: 15.47869043613795px;" class="tag-cloud-link">Nginx</a>
    
    <a href="/tags/Tomcat/" style="font-size: 14.153099206794586px;" class="tag-cloud-link">Tomcat</a>
    
    <a href="/tags/DevOps/" style="font-size: 9.098961895764441px;" class="tag-cloud-link">DevOps</a>
    
    <a href="/tags/Jenkins/" style="font-size: 15.233904919049746px;" class="tag-cloud-link">Jenkins</a>
    
    <a href="/tags/Prometheus/" style="font-size: 15.965847697998322px;" class="tag-cloud-link">Prometheus</a>
    
    <a href="/tags/Django/" style="font-size: 9.862249963523496px;" class="tag-cloud-link">Django</a>
    
    <a href="/tags/Selenium/" style="font-size: 18.45622251194805px;" class="tag-cloud-link">Selenium</a>
    
    <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 9.067115685402472px;" class="tag-cloud-link">爬虫</a>
    
    <a href="/tags/Scrapy/" style="font-size: 18.465584881182426px;" class="tag-cloud-link">Scrapy</a>
    
</div>
                
                
                <div class="friend-links tab-pane nav bs-sidenav fade" id="sidebar-friend-links">
    
    <li>
        <a href="https://www.runoob.com/" target="_blank">菜鸟教程</a>
    </li>
    
    <li>
        <a href="https://www.csdn.net/" target="_blank">CSDN</a>
    </li>
    
    <li>
        <a href="https://nowcoder.com/" target="_blank">牛客网</a>
    </li>
    
    <li>
        <a href="https://www.bilibili.com/" target="_blank">B站</a>
    </li>
    
    <li>
        <a href="https://leetcode-cn.com/" target="_blank">Leetcode</a>
    </li>
    
    <li>
        <a href="https://www.heroku.com/" target="_blank">Heroku</a>
    </li>
    
</div>
                
                
                <div class="links tab-pane nav bs-sidenav fade" id="sidebar-links">
    
    <li>
        <a href="https://github.com/lzq2024/" target="_blank">Github</a>
    </li>
    
    <li>
        <a href="https://gitee.com/lzq2024" target="_blank">Gitee</a>
    </li>
    
    <li>
        <a href="https://www.zhihu.com/people/yr1d3j/activities" target="_blank">知乎</a>
    </li>
    
</div>
                
            </div>
        </div>
    </aside>
    
</aside>
            </div>
        </div>
    </div>
    <footer id="gal-footer">
    <div class="container">
        Copyright © 2018 lzq Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>.&nbsp;Theme by <a href="https://github.com/Lzq2024" target="_blank">AONOSORA</a>
    </div>
</footer>

<!-- 回到顶端 -->
<div id="gal-gotop">
    <i class="fa fa-angle-up"></i>
</div>
</body>

<script src="/js/activate-power-mode.js"></script>

<script>

    // 配置highslide
	hs.graphicsDir = '/js/highslide/graphics/'
    hs.outlineType = "rounded-white";
    hs.dimmingOpacity = 0.8;
    hs.outlineWhileAnimating = true;
    hs.showCredits = false;
    hs.captionEval = "this.thumb.alt";
    hs.numberPosition = "caption";
    hs.align = "center";
    hs.transitions = ["expand", "crossfade"];
    hs.lang.number = '共%2张图, 当前是第%1张';
    hs.addSlideshow({
      interval: 5000,
      repeat: true,
      useControls: true,
      fixedControls: "fit",
      overlayOptions: {
        opacity: 0.75,
        position: "bottom center",
        hideOnMouseOut: true
      }
    })

    // 初始化aos
    AOS.init({
      duration: 1000,
      delay: 0,
      easing: 'ease-out-back'
    });

</script>
<script>
	POWERMODE.colorful = 'true';    // make power mode colorful
	POWERMODE.shake = 'true';       // turn off shake
	// TODO 这里根据具体情况修改
	document.body.addEventListener('input', POWERMODE);
</script>
<script>
    window.slideConfig = {
      prefix: '/imgs/slide/background',
      ext: 'jpg',
      maxCount: '7'
    }
</script>

<script src="/js/hs.js"></script>
<script src="/js/blog.js"></script>



<script src="/js/oni.js"></script>




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
  if(window.commentConfig) {
     window.commentConfig.client_id = 'Ov23lijIsO699goQayhr'
     window.commentConfig.client_secret = 'd4e885f9aa839494f3927fd3fb244c2794e471a8'
     window.commentConfig.owner = 'Lzq2024'
     window.commentConfig.repo = 'gitalk'
     window.commentConfig.id = 'Wed Jun 12 2024 00:00:00 GMT+0800'
   } else {
    window.commentConfig = {
 	client_id: 'Ov23lijIsO699goQayhr',
 	client_secret: 'd4e885f9aa839494f3927fd3fb244c2794e471a8',
	owner: 'Lzq2024',
	repo: 'gitalk',
	id: 'Wed Jun 12 2024 00:00:00 GMT+0800'
      }
   }
</script>

<script src="/js/comment/gitment.js"></script>


</html>