<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="lzq">
    
    
    
    
    
    
    <title>K8s基础命令 | 冰的技术专栏</title>
    <link href="http://bingfly.top" rel="prefetch" />

    
<link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/aos.css">
<link rel="stylesheet" href="/css/style.css">

    
<script src="/js/jquery.min.js"></script>

    
<script src="/js/bootstrap.min.js"></script>

    
<script src="/js/aos.js"></script>

    
<script src="/js/highslide/highslide-full.min.js"></script>

    
<link rel="stylesheet" href="/js/highslide/highslide.css">

    <style type="text/css">
        @media (max-width: 768px) {
            body {
                background-color: #f0f0f0;
                background: url('/imgs/xsbg.gif');
                background-attachment: fixed;
            }
        }
    </style>
    
    <!--<script type="text/javascript">
      if (document.images) {
        var avatar = new Image();
        avatar.src = '/imgs/avatar.jpg'
        var previews = 'preview1.jpg,preview2.jpg,preview3.jpg,preview4.jpg,preview5.jpg,preview6.jpg,preview7.jpg,preview8.jpg,preview9.jpg,preview10.jpg,preview11.jpg,preview12.jpg,preview13.jpg,preview14.jpg,preview15.jpg'.split(',')
        var previewsPreLoad = []
        for(var i = 0; i < length; i++) {
          previewsPreLoad.push(new Image())
          previewsPreLoad[previewsPreLoad.length - 1].src = '/imgs/preview' + previews[i]
        }
      }
    </script>-->
<meta name="generator" content="Hexo 7.3.0"></head>
<body>
    <!-- 背景轮播图功能 -->
    <section class="hidden-xs">
    <ul class="cb-slideshow">
        <li><span>天若</span></li>
        <li><span>有情</span></li>
        <li><span>天亦老</span></li>
        <li><span>我为</span></li>
        <li><span>长者</span></li>
        <li><span>续一秒</span></li>
    </ul>
</section>
    <!-- 欧尼酱功能, 谁用谁知道 -->
    
    <div class="gal-menu gal-dropdown">
    <div class="circle" id="gal">
        <div class="ring">
            <a href="http://bingfly.top" class="menuItem" style="left: 50%; top: 15%;">首页</a>
            
            <a class="menuItem" style="left: 80.3109%; top: 32.5%;">下一页</a>
            
            <a href="/archives" class="menuItem" style="left: 80.3109%; top: 67.5%;">归档</a>
            <a href="/about" class="menuItem" style="left: 50%; top: 85%;">关于</a>
            <a href="/message" class="menuItem" style="left: 19.6891%; top: 67.5%;">留言板</a>

            
            <a class="menuItem" style="left: 19.6891%; top: 32.5%;">上一页</a>
            
        </div>
        <audio id="audio" src="/imgs/oni.mp3"></audio>
    </div>
</div>
    
    <header class="navbar navbar-inverse" id="gal-header">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed"
                    data-toggle="collapse" data-target=".bs-navbar-collapse"
                    aria-expanded="false">
                <span class="fa fa-lg fa-reorder"></span>
            </button>
            <a href="http://bingfly.top">
                
                <style>
                    #gal-header .navbar-brand {
                        height: 54px;
                        line-height: 24px;
                        font-size: 28px;
                        opacity: 1;
                        background-color: rgba(0,0,0,0);
                        text-shadow: 0 0 5px #fff,0 0 10px #fff,0 0 15px #fff,0 0 20px #228DFF,0 0 35px #228DFF,0 0 40px #228DFF,0 0 50px #228DFF,0 0 75px #228DFF;
                    }
                </style>
                <!-- 这里使用文字(navbar_text or config.title) -->
                <div class="navbar-brand">冰的技术专栏</div>
                
            </a>
        </div>
        <div class="collapse navbar-collapse bs-navbar-collapse">
            <ul class="nav navbar-nav" id="menu-gal">
                
                
                <li class="">
                    <a href="/">
                        <i class="fa fa-home"></i>首页
                    </a>
                </li>
                
                
                
                <li class="">
                    <a href="/archives">
                        <i class="fa fa-archive"></i>归档
                    </a>
                </li>
                
                
                
                
                <li class="dropdown">
                    <!-- TODO 添加hover dropdown效果 -->
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false" data-hover="dropdown">
                        <i class="fa fa-list"></i>分类
                    </a>
                    <ul class="dropdown-menu">
                        
                        
                        <li>
                            <a href="/categories/hexo-%E5%8D%9A%E5%AE%A2/">hexo+博客</a>
                        </li>
                        
                        <li>
                            <a href="/categories/Python%E5%9F%BA%E7%A1%80/">Python基础</a>
                        </li>
                        
                        <li>
                            <a href="/categories/Python%E9%9D%A2%E8%AF%95/">Python面试</a>
                        </li>
                        
                        
                        <li>
                            <a href="/categories">...</a>
                        </li>
                        
                        
                    </ul>
                </li>
                
                
                
                
                
                <li class="dropdown">
                    <!-- TODO 添加hover dropdown效果 -->
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false" data-hover="dropdown">
                        <i class="fa fa-tags"></i>标签
                    </a>
                    <ul class="dropdown-menu">
                        
                        
                        <li>
                            <a href="/tags/Python/">Python</a>
                        </li>
                        
                        <li>
                            <a href="/tags/Shell/">Shell</a>
                        </li>
                        
                        <li>
                            <a href="/tags/Linux/">Linux</a>
                        </li>
                        
                        
                        <li>
                            <a href="/tags">...</a>
                        </li>
                        
                        
                    </ul>
                </li>
                
                
                
                
                <li class="">
                    <a href="/about">
                        <i class="fa fa-user"></i>关于我
                    </a>
                </li>
                
                
            </ul>
        </div>
    </div>
</header>
    <div id="gal-body">
        <div class="container">
            <div class="row">
                <div class="col-md-8 gal-right" id="mainstay">
                    
<article class="article well article-body" id="article">
    <div class="breadcrumb">
        <i class="fa fa-home"></i>
        <a href="http://bingfly.top">冰的技术专栏</a>
        >
        <span>K8s基础命令</span>
    </div>
    <!-- 大型设备详细文章 -->
    <div class="hidden-xs">
        <div class="title-article">
            <h1>
                <a href="/2024/06/13/%E6%80%BB%E7%BB%93/K8S%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/">K8s基础命令</a>
            </h1>
        </div>
        <div class="tag-article">
            
            <span class="label label-gal">
                <i class="fa fa-tags"></i>
                
                <a href="/tags/K8s/">K8s</a>
                
            </span>
            
            <span class="label label-gal">
                <i class="fa fa-calendar"></i> 2024-06-13
            </span>
            
        </div>
    </div>
    <!-- 小型设备详细文章 -->
    <div class="visible-xs">
        <center>
            <div class="title-article">
                <h4>
                    <a href="/2024/06/13/%E6%80%BB%E7%BB%93/K8S%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/">K8s基础命令</a>
                </h4>
            </div>
            <p>
                <i class="fa fa-calendar"></i> 2024-06-13
            </p>
            <p>
                
                <i class="fa fa-tags"></i>
                
                <a href="/tags/K8s/">K8s</a>
                
                
                
            </p>
        </center>
    </div>
    <div class="content-article">
        <h1 id="kubernetes用到的一些命令"><a href="#kubernetes用到的一些命令" class="headerlink" title="kubernetes用到的一些命令"></a>kubernetes用到的一些命令</h1><p>kubectl管理工具以及命令</p>
<p><img src="https://gitee.com/julyjo/blogimage/raw/master/img/20210223170005.png" alt="img"></p>
<h2 id="一、基础命令"><a href="#一、基础命令" class="headerlink" title="一、基础命令"></a>一、基础命令</h2><h3 id="1、create"><a href="#1、create" class="headerlink" title="1、create"></a>1、create</h3><p>根据文件或者输入来创建资源</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Deployment和Service资源</span></span><br><span class="line">kubectl create -f javak8s-deployment.yaml</span><br><span class="line">kubectl create -f javak8s-service.yaml</span><br></pre></td></tr></table></figure>

<h3 id="2、delete"><a href="#2、delete" class="headerlink" title="2、delete"></a>2、delete</h3><p>删除资源</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">根据yaml文件删除对应的资源，但是yaml文件并不会被删除，这样更加高效</span></span><br><span class="line">kubectl delete -f javak8s-deployment.yaml </span><br><span class="line">kubectl delete -f javak8s-service.yaml</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">也可以通过具体的资源名称来进行删除，使用这个删除资源，需要同时删除pod和service资源才行</span></span><br><span class="line">kubectl delete 具体的资源名称</span><br></pre></td></tr></table></figure>

<h3 id="3、get"><a href="#3、get" class="headerlink" title="3、get"></a>3、get</h3><p>获得资源信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看所有的资源信息</span></span><br><span class="line">kubectl get all</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod列表</span></span><br><span class="line">kubectl get pod</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">显示pod节点的标签信息</span></span><br><span class="line">kubectl get pod --show-labels</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">根据指定标签匹配到具体的pod</span></span><br><span class="line">kubectl get pods -l app=example</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看node节点列表</span></span><br><span class="line">kubectl get node </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">显示node节点的标签信息</span></span><br><span class="line">kubectl get node --show-labels</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod详细信息，也就是可以查看pod具体运行在哪个节点上（ip地址信息）</span></span><br><span class="line">kubectl get pod -o wide</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看服务的详细信息，显示了服务名称，类型，集群ip，端口，时间等信息</span></span><br><span class="line">kubectl get svc</span><br><span class="line">[root@master ~]# kubectl get svc</span><br><span class="line">NAME            TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)          AGE</span><br><span class="line">go-service      NodePort    10.10.10.247   &lt;none&gt;        8089:33702/TCP   29m</span><br><span class="line">java-service    NodePort    10.10.10.248   &lt;none&gt;        8082:32823/TCP   5h17m</span><br><span class="line">kubernetes      ClusterIP   10.10.10.1     &lt;none&gt;        443/TCP          5d16h</span><br><span class="line">nginx-service   NodePort    10.10.10.146   &lt;none&gt;        88:34823/TCP     2d19h</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看命名空间</span></span><br><span class="line">kubectl get ns</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看所有pod所属的命名空间</span></span><br><span class="line">kubectl get pod --all-namespaces</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看所有pod所属的命名空间并且查看都在哪些节点上运行</span></span><br><span class="line">kubectl get pod --all-namespaces  -o wide</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看目前所有的replica <span class="built_in">set</span>，显示了所有的pod的副本数，以及他们的可用数量以及状态等信息</span></span><br><span class="line">kubectl get rs</span><br><span class="line">[root@master ~]# kubectl get rs</span><br><span class="line">NAME                          DESIRED   CURRENT   READY   AGE</span><br><span class="line">go-deployment-58c76f7d5c      1         1         1       32m</span><br><span class="line">java-deployment-76889f56c5    1         1         1       5h21m</span><br><span class="line">nginx-deployment-58d6d6ccb8   3         3         3       2d19h</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看目前所有的deployment</span></span><br><span class="line">kubectl get deployment</span><br><span class="line">[root@master ~]# kubectl get deployment</span><br><span class="line">NAME               READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">go-deployment      1/1     1            1           34m</span><br><span class="line">java-deployment    1/1     1            1           5h23m</span><br><span class="line">nginx-deployment   3/3     3            3           2d19h</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看已经部署了的所有应用，可以看到容器，以及容器所用的镜像，标签等信息</span></span><br><span class="line"> kubectl get deploy -o wide</span><br><span class="line">[root@master bin]# kubectl get deploy -o wide     </span><br><span class="line">NAME    READY   UP-TO-DATE   AVAILABLE   AGE   CONTAINERS   IMAGES       SELECTOR</span><br><span class="line">nginx   3/3     3            3           16m   nginx        nginx:1.10   app=example</span><br></pre></td></tr></table></figure>

<h3 id="4、run"><a href="#4、run" class="headerlink" title="4、run"></a>4、run</h3><p>在集群中创建并运行一个或多个容器镜像。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">基本语法</span></span><br><span class="line">run NAME --image=image [--env=&quot;key=value&quot;] [--port=port] [--replicas=replicas] [--dry-run=bool] [--overrides=inline-json] [--command] -- [COMMAND] [args...]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">示例，运行一个名称为nginx，副本数为3，标签为app=example，镜像为nginx:1.10，端口为80的容器实例</span></span><br><span class="line">kubectl run nginx --replicas=3 --labels=&quot;app=example&quot; --image=nginx:1.10 --port=80</span><br><span class="line">其他用法参见：http://docs.kubernetes.org.cn/468.html</span><br></pre></td></tr></table></figure>

<h3 id="5、expose"><a href="#5、expose" class="headerlink" title="5、expose"></a>5、expose</h3><p>创建一个service服务，并且暴露端口让外部可以访问</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建一个nginx服务并且暴露端口让外界可以访问</span></span><br><span class="line">kubectl expose deployment nginx --port=88 --type=NodePort --target-port=80 --name=nginx-service</span><br><span class="line">关于expose的详细用法参见：http://docs.kubernetes.org.cn/475.html</span><br></pre></td></tr></table></figure>

<h3 id="6、set"><a href="#6、set" class="headerlink" title="6、set"></a>6、set</h3><p>配置应用的一些特定资源，也可以修改应用已有的资源</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用kubectl <span class="built_in">set</span> --<span class="built_in">help</span>查看，它的子命令，<span class="built_in">env</span>，image，resources，selector，serviceaccount，subject。</span></span><br><span class="line">set命令详情参见：http://docs.kubernetes.org.cn/669.html</span><br><span class="line">语法：</span><br><span class="line">resources (-f FILENAME | TYPE NAME) ([--limits=LIMITS &amp; --requests=REQUESTS]</span><br></pre></td></tr></table></figure>

<h3 id="7、kubectl-set-resources"><a href="#7、kubectl-set-resources" class="headerlink" title="7、kubectl set resources"></a>7、kubectl set resources</h3><p>这个命令用于设置资源的一些范围限制。</p>
<p>资源对象中的<a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/312.html">Pod</a>可以指定计算资源需求（CPU-单位m、内存-单位Mi），即使用的最小资源请求（Requests），限制（Limits）的最大资源需求，Pod将保证使用在设置的资源数量范围。</p>
<p>对于每个Pod资源，如果指定了Limits（限制）值，并省略了Requests（请求），则Requests默认为Limits的值。</p>
<p>可用资源对象包括(支持大小写)：replicationcontroller、deployment、daemonset、job、replicaset。</p>
<p>例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将deployment的nginx容器cpu限制为“200m”，将内存设置为“512Mi”</span></span><br><span class="line">kubectl set resources deployment nginx -c=nginx --limits=cpu=200m,memory=512Mi</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为nginx中的所有容器设置 Requests和Limits</span></span><br><span class="line">kubectl set resources deployment nginx --limits=cpu=200m,memory=512Mi --requests=cpu=100m,memory=256Mi</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除nginx中容器的计算资源值</span></span><br><span class="line">kubectl set resources deployment nginx --limits=cpu=0,memory=0 --requests=cpu=0,memory=0</span><br></pre></td></tr></table></figure>

<h3 id="8、kubectl-set-selector"><a href="#8、kubectl-set-selector" class="headerlink" title="8、kubectl set selector"></a>8、kubectl set selector</h3><p>设置资源的selector（选择器）。如果在调用”set selector”命令之前已经存在选择器，则新创建的选择器将覆盖原来的选择器。</p>
<p>selector必须以字母或数字开头，最多包含63个字符，可使用：字母、数字、连字符” - “ 、点”.”和下划线” _ “。如果指定了–resource-version，则更新将使用此资源版本，否则将使用现有的资源版本。</p>
<p>注意：目前selector命令只能用于Service对象。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">语法</span></span><br><span class="line">selector (-f FILENAME | TYPE NAME) EXPRESSIONS [--resource-version=version]</span><br></pre></td></tr></table></figure>

<h3 id="8、kubectl-set-image"><a href="#8、kubectl-set-image" class="headerlink" title="8、kubectl set image"></a>8、kubectl set image</h3><p> 用于更新现有资源的容器镜像。</p>
<p>可用资源对象包括：pod (po)、replicationcontroller (rc)、deployment (deploy)、daemonset (ds)、job、replicaset (rs)。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">语法</span></span><br><span class="line">image (-f FILENAME | TYPE NAME) CONTAINER_NAME_1=CONTAINER_IMAGE_1 ... CONTAINER_NAME_N=CONTAINER_IMAGE_N</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将deployment中的nginx容器镜像设置为“nginx：1.9.1”。</span></span><br><span class="line">kubectl set image deployment/nginx busybox=busybox nginx=nginx:1.9.1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">所有deployment和rc的nginx容器镜像更新为“nginx：1.9.1”</span></span><br><span class="line">kubectl set image deployments,rc nginx=nginx:1.9.1 --all</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将daemonset abc的所有容器镜像更新为“nginx：1.9.1”</span></span><br><span class="line">kubectl set image daemonset abc *=nginx:1.9.1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">从本地文件中更新nginx容器镜像</span></span><br><span class="line">kubectl set image -f path/to/file.yaml nginx=nginx:1.9.1 --local -o yaml</span><br></pre></td></tr></table></figure>

<hr>
<p>explain命令：用于显示资源文档信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl explain rs</span><br></pre></td></tr></table></figure>

<p>edit命令:用于编辑资源信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编辑Deployment nginx的一些信息</span></span><br><span class="line">kubectl edit deployment nginx</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编辑service类型的nginx的一些信息</span></span><br><span class="line">kubectl edit service/nginx</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="二、设置命令"><a href="#二、设置命令" class="headerlink" title="二、设置命令"></a>二、设置命令</h2><h3 id="1、label"><a href="#1、label" class="headerlink" title="1、label"></a>1、label</h3><p>用于更新（增加、修改或删除）资源上的 label（标签）</p>
<ul>
<li>label 必须以字母或数字开头，可以使用字母、数字、连字符、点和下划线，最长63个字符。</li>
<li>如果–overwrite 为 true，则可以覆盖已有的 label，否则尝试覆盖 label 将会报错。</li>
<li>如果指定了–resource-version，则更新将使用此资源版本，否则将使用现有的资源版本。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">语法</span></span><br><span class="line">label [--overwrite] (-f FILENAME | TYPE NAME) KEY_1=VAL_1 ... KEY_N=VAL_N [--resource-version=version]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">给名为foo的Pod添加label unhealthy=<span class="literal">true</span></span></span><br><span class="line">kubectl label pods foo unhealthy=true</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">给名为foo的Pod修改label 为 <span class="string">&#x27;status&#x27;</span> / value <span class="string">&#x27;unhealthy&#x27;</span>，且覆盖现有的value</span></span><br><span class="line">kubectl label --overwrite pods foo status=unhealthy</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">给 namespace 中的所有 pod 添加 label</span></span><br><span class="line">kubectl label  pods --all status=unhealthy</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">仅当resource-version=1时才更新 名为foo的Pod上的label</span></span><br><span class="line">kubectl label pods foo status=unhealthy --resource-version=1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除名为“bar”的label 。（使用“ - ”减号相连）</span></span><br><span class="line">kubectl label pods foo bar-</span><br></pre></td></tr></table></figure>

<h3 id="2、annotate"><a href="#2、annotate" class="headerlink" title="2、annotate"></a>2、annotate</h3><p>更新一个或多个资源的Annotations信息。也就是注解信息，可以方便的查看做了哪些操作。</p>
<ul>
<li>Annotations由key&#x2F;value组成。</li>
<li>Annotations的目的是存储辅助数据，特别是通过工具和系统扩展操作的数据，更多介绍在<a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/255.html">这里</a>。</li>
<li>如果–overwrite为true，现有的annotations可以被覆盖，否则试图覆盖annotations将会报错。</li>
<li>如果设置了–resource-version，则更新将使用此resource version，否则将使用原有的resource version。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">语法</span></span><br><span class="line">annotate [--overwrite] (-f FILENAME | TYPE NAME) KEY_1=VAL_1 ... KEY_N=VAL_N [--resource-version=version]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更新Pod“foo”，设置annotation “description”的value “my frontend”，如果同一个annotation多次设置，则只使用最后设置的value值</span></span><br><span class="line">kubectl annotate pods foo description=&#x27;my frontend&#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">根据“pod.json”中的<span class="built_in">type</span>和name更新pod的annotation</span></span><br><span class="line">kubectl annotate -f pod.json description=&#x27;my frontend&#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更新Pod<span class="string">&quot;foo&quot;</span>，设置annotation“description”的value“my frontend running nginx”，覆盖现有的值</span></span><br><span class="line">kubectl annotate --overwrite pods foo description=&#x27;my frontend running nginx&#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更新 namespace中的所有pod</span></span><br><span class="line">kubectl annotate pods --all description=&#x27;my frontend running nginx&#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">只有当resource-version为1时，才更新pod <span class="string">&#x27; foo &#x27;</span></span></span><br><span class="line">kubectl annotate pods foo description=&#x27;my frontend running nginx&#x27; --resource-version=1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">通过删除名为“description”的annotations来更新pod <span class="string">&#x27; foo &#x27;</span>。#不需要- overwrite flag。</span></span><br><span class="line">kubectl annotate pods foo description-</span><br></pre></td></tr></table></figure>

<h3 id="3、completion"><a href="#3、completion" class="headerlink" title="3、completion"></a>3、completion</h3><p>用于设置kubectl命令自动补全</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">source</span> &lt;(kubectl completion bash) <span class="comment"># setup autocomplete in bash, bash-completion package should be installed first.</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">source</span> &lt;(kubectl completion zsh)  <span class="comment"># setup autocomplete in zsh</span></span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="三、kubectl-部署命令"><a href="#三、kubectl-部署命令" class="headerlink" title="三、kubectl 部署命令"></a>三、kubectl 部署命令</h2><h3 id="1、rollout"><a href="#1、rollout" class="headerlink" title="1、rollout"></a>1、rollout</h3><p>用于对资源进行管理</p>
<p>可用资源包括：deployments，daemonsets。</p>
<p>子命令：</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/645.html"><em>history</em></a>（查看历史版本）</li>
<li><a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/647.html"><em>pause</em></a>（暂停资源）</li>
<li><a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/650.html"><em>resume</em></a>（恢复暂停资源）</li>
<li><a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/652.html"><em>status</em></a>（查看资源状态）</li>
<li><a target="_blank" rel="noopener" href="http://docs.kubernetes.org.cn/654.html"><em>undo</em></a>（回滚版本）</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">语法</span></span><br><span class="line">kubectl rollout SUBCOMMAND</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">回滚到之前的deployment</span></span><br><span class="line">kubectl rollout undo deployment/abc</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看daemonet的状态</span></span><br><span class="line">kubectl rollout status daemonset/foo</span><br></pre></td></tr></table></figure>

<h3 id="2、rolling-update"><a href="#2、rolling-update" class="headerlink" title="2、rolling-update"></a>2、rolling-update</h3><p>执行指定ReplicationController的滚动更新。</p>
<p>该命令创建了一个新的RC， 然后一次更新一个pod方式逐步使用新的PodTemplate，最终实现Pod滚动更新，new-controller.json需要与之前RC在相同的namespace下。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">语法</span></span><br><span class="line">rolling-update OLD_CONTROLLER_NAME ([NEW_CONTROLLER_NAME] --image=NEW_CONTAINER_IMAGE | -f NEW_CONTROLLER_SPEC)</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用frontend-v2.json中的新RC数据更新frontend-v1的pod</span></span><br><span class="line">kubectl rolling-update frontend-v1 -f frontend-v2.json</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用JSON数据更新frontend-v1的pod</span></span><br><span class="line">cat frontend-v2.json | kubectl rolling-update frontend-v1 -f -</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">其他的一些滚动更新</span></span><br><span class="line">kubectl rolling-update frontend-v1 frontend-v2 --image=image:v2</span><br><span class="line"></span><br><span class="line">kubectl rolling-update frontend --image=image:v2</span><br><span class="line"></span><br><span class="line">kubectl rolling-update frontend-v1 frontend-v2 --rollback</span><br></pre></td></tr></table></figure>

<h3 id="3、scale"><a href="#3、scale" class="headerlink" title="3、scale"></a>3、scale</h3><p>扩容或缩容 Deployment、ReplicaSet、Replication Controller或 Job 中Pod数量</p>
<p>scale也可以指定多个前提条件，如：当前副本数量或 –resource-version ，进行伸缩比例设置前，系统会先验证前提条件是否成立。这个就是弹性伸缩策略</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">语法</span></span><br><span class="line">kubectl scale [--resource-version=version] [--current-replicas=count] --replicas=COUNT (-f FILENAME | TYPE NAME)</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将名为foo中的pod副本数设置为3。</span></span><br><span class="line">kubectl scale --replicas=3 rs/foo</span><br><span class="line">kubectl scale deploy/nginx --replicas=30</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将由“foo.yaml”配置文件中指定的资源对象和名称标识的Pod资源副本设为3</span></span><br><span class="line">kubectl scale --replicas=3 -f foo.yaml</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果当前副本数为2，则将其扩展至3。</span></span><br><span class="line">kubectl scale --current-replicas=2 --replicas=3 deployment/mysql</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置多个RC中Pod副本数量</span></span><br><span class="line">kubectl scale --replicas=5 rc/foo rc/bar rc/baz</span><br></pre></td></tr></table></figure>

<h3 id="4、autoscale"><a href="#4、autoscale" class="headerlink" title="4、autoscale"></a>4、autoscale</h3><p>这个比scale更加强大，也是弹性伸缩策略 ，它是根据流量的多少来自动进行扩展或者缩容</p>
<p>指定Deployment、ReplicaSet或ReplicationController，并创建已经定义好资源的自动伸缩器。使用自动伸缩器可以根据需要自动增加或减少系统中部署的pod数量。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">语法</span></span><br><span class="line">kubectl autoscale (-f FILENAME | TYPE NAME | TYPE/NAME) [--min=MINPODS] --max=MAXPODS [--cpu-percent=CPU] [flags]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用 Deployment “foo”设定，使用默认的自动伸缩策略，指定目标CPU使用率，使其Pod数量在2到10之间</span></span><br><span class="line">kubectl autoscale deployment foo --min=2 --max=10</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用RC“foo”设定，使其Pod的数量介于1和5之间，CPU使用率维持在80％</span></span><br><span class="line">kubectl autoscale rc foo --max=5 --cpu-percent=80</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="四、集群管理命令"><a href="#四、集群管理命令" class="headerlink" title="四、集群管理命令"></a>四、集群管理命令</h2><h3 id="1、certificate"><a href="#1、certificate" class="headerlink" title="1、certificate"></a>1、certificate</h3><p>用于证书资源管理，授权等</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# kubectl certificate --help</span><br><span class="line">Modify certificate resources.</span><br><span class="line"></span><br><span class="line">Available Commands:</span><br><span class="line">  approve     Approve a certificate signing request</span><br><span class="line">  deny        Deny a certificate signing request</span><br><span class="line"></span><br><span class="line">Usage:</span><br><span class="line">  kubectl certificate SUBCOMMAND [options]</span><br><span class="line"></span><br><span class="line">Use &quot;kubectl &lt;command&gt; --help&quot; for more information about a given command.</span><br><span class="line">Use &quot;kubectl options&quot; for a list of global command-line options (applies to all commands).</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">例如，当有node节点要向master请求，那么是需要master节点授权的</span></span><br><span class="line">kubectl  certificate approve node-csr-81F5uBehyEyLWco5qavBsxc1GzFcZk3aFM3XW5rT3mw node-csr-Ed0kbFhc_q7qx14H3QpqLIUs0uKo036O2SnFpIheM18</span><br></pre></td></tr></table></figure>

<h3 id="2、cluster-info"><a href="#2、cluster-info" class="headerlink" title="2、cluster-info"></a>2、cluster-info</h3><p>显示集群信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kubectl cluster-info</span><br><span class="line"></span><br><span class="line">[root@master ~]# kubectl cluster-info</span><br><span class="line">Kubernetes master is running at http://localhost:8080</span><br><span class="line">To further debug and diagnose cluster problems, use &#x27;kubectl cluster-info dump&#x27;.</span><br></pre></td></tr></table></figure>

<h3 id="3、top"><a href="#3、top" class="headerlink" title="3、top"></a>3、top</h3><p>用于查看资源的cpu，内存磁盘等资源的使用率</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubectl top pod --all-namespaces</span><br><span class="line">它需要heapster运行才行</span><br></pre></td></tr></table></figure>

<p>cordon命令：用于标记某个节点不可调度</p>
<p>uncordon命令：用于标签节点可以调度</p>
<p>drain命令： 用于在维护期间排除节点。</p>
<p>taint命令：参见：<a target="_blank" rel="noopener" href="https://blog.frognew.com/2018/05/taint-and-toleration.html">https://blog.frognew.com/2018/05/taint-and-toleration.html</a></p>
<hr>
<h2 id="五、集群故障排查和调试命令"><a href="#五、集群故障排查和调试命令" class="headerlink" title="五、集群故障排查和调试命令"></a>五、集群故障排查和调试命令</h2><h3 id="1、describe"><a href="#1、describe" class="headerlink" title="1、describe"></a>1、describe</h3><p>显示特定资源的详细信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">语法</span></span><br><span class="line">kubectl describe TYPE NAME_PREFIX</span><br><span class="line">（首先检查是否有精确匹配TYPE和NAME_PREFIX的资源，如果没有，将会输出所有名称以NAME_PREFIX开头的资源详细信息）</span><br><span class="line">支持的资源包括但不限于（大小写不限）：pods (po)、services (svc)、 replicationcontrollers (rc)、nodes (no)、events (ev)、componentstatuses (cs)、 limitranges (limits)、persistentvolumes (pv)、persistentvolumeclaims (pvc)、 resourcequotas (quota)和secrets。</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看my-nginx pod的详细状态</span></span><br><span class="line">kubectl describe po my-nginx</span><br></pre></td></tr></table></figure>

<h3 id="2、logs"><a href="#2、logs" class="headerlink" title="2、logs"></a>2、logs</h3><p>用于在一个pod中打印一个容器的日志，如果pod中只有一个容器，可以省略容器名</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">语法</span></span><br><span class="line">kubectl logs [-f] [-p] POD [-c CONTAINER]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">返回仅包含一个容器的pod nginx的日志快照</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl logs nginx</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">返回pod ruby中已经停止的容器web-1的日志快照</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl logs -p -c ruby web-1</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">持续输出pod ruby中的容器web-1的日志</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl logs -f -c ruby web-1</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">仅输出pod nginx中最近的20条日志</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl logs --<span class="built_in">tail</span>=20 nginx</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">输出pod nginx中最近一小时内产生的所有日志</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl logs --since=1h nginx</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">参数选项</span></span><br><span class="line">  -c, --container=&quot;&quot;: 容器名。</span><br><span class="line">  -f, --follow[=false]: 指定是否持续输出日志（实时日志）。</span><br><span class="line">      --interactive[=true]: 如果为true，当需要时提示用户进行输入。默认为true。</span><br><span class="line">      --limit-bytes=0: 输出日志的最大字节数。默认无限制。</span><br><span class="line">  -p, --previous[=false]: 如果为true，输出pod中曾经运行过，但目前已终止的容器的日志。</span><br><span class="line">      --since=0: 仅返回相对时间范围，如5s、2m或3h，之内的日志。默认返回所有日志。只能同时使用since和since-time中的一种。</span><br><span class="line">      --since-time=&quot;&quot;: 仅返回指定时间（RFC3339格式）之后的日志。默认返回所有日志。只能同时使用since和since-time中的一种。</span><br><span class="line">      --tail=-1: 要显示的最新的日志条数。默认为-1，显示所有的日志。</span><br><span class="line">      --timestamps[=false]: 在日志中包含时间戳。</span><br></pre></td></tr></table></figure>

<h3 id="3、exec"><a href="#3、exec" class="headerlink" title="3、exec"></a>3、exec</h3><p>进入容器进行交互，在容器中执行命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">语法</span></span><br><span class="line">kubectl exec POD [-c CONTAINER] -- COMMAND [args...]</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">命令选项</span></span><br><span class="line">  -c, --container=&quot;&quot;: 容器名。如果未指定，使用pod中的一个容器。</span><br><span class="line">  -p, --pod=&quot;&quot;: Pod名。</span><br><span class="line">  -i, --stdin[=false]: 将控制台输入发送到容器。</span><br><span class="line">  -t, --tty[=false]: 将标准输入控制台作为容器的控制台输入。</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入nginx容器，执行一些命令操作</span></span><br><span class="line">kubectl exec -it nginx-deployment-58d6d6ccb8-lc5fp bash</span><br></pre></td></tr></table></figure>

<h3 id="4、attach"><a href="#4、attach" class="headerlink" title="4、attach"></a>4、attach</h3><p>连接到一个正在运行的容器。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">语法</span></span><br><span class="line">kubectl attach POD -c CONTAINER</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">参数选项</span></span><br><span class="line">-c, --container=&quot;&quot;: 容器名。如果省略，则默认选择第一个 pod</span><br><span class="line">  -i, --stdin[=false]: 将控制台输入发送到容器。</span><br><span class="line">  -t, --tty[=false]: 将标准输入控制台作为容器的控制台输入。</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取正在运行中的pod 123456-7890的输出，默认连接到第一个容器</span></span><br><span class="line">kubectl attach 123456-7890</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取pod 123456-7890中ruby-container的输出</span></span><br><span class="line">kubectl attach 123456-7890 -c ruby-container</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">切换到终端模式，将控制台输入发送到pod 123456-7890的ruby-container的“bash”命令，并将其输出到控制台/</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">错误控制台的信息发送回客户端。</span></span><br><span class="line">kubectl attach 123456-7890 -c ruby-container -i -t</span><br></pre></td></tr></table></figure>

<h3 id="5、cp"><a href="#5、cp" class="headerlink" title="5、cp"></a>5、cp</h3><p>拷贝文件或者目录到pod容器中</p>
<p>用于pod和外部的文件交换,类似于docker 的cp，就是将容器中的内容和外部的内容进行交换。</p>
<hr>
<h2 id="六、其他命令"><a href="#六、其他命令" class="headerlink" title="六、其他命令"></a>六、其他命令</h2><h3 id="1、api-servions"><a href="#1、api-servions" class="headerlink" title="1、api-servions"></a>1、api-servions</h3><p>打印受支持的api版本信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl api-versions</span></span><br><span class="line">[root@master ~]# kubectl api-versions</span><br><span class="line">admissionregistration.k8s.io/v1beta1</span><br><span class="line">apiextensions.k8s.io/v1beta1</span><br><span class="line">apiregistration.k8s.io/v1beta1</span><br><span class="line">apps/v1</span><br><span class="line">apps/v1beta1</span><br><span class="line">apps/v1beta2</span><br><span class="line">authentication.k8s.io/v1</span><br><span class="line">authentication.k8s.io/v1beta1</span><br><span class="line">authorization.k8s.io/v1</span><br><span class="line">authorization.k8s.io/v1beta1</span><br><span class="line">autoscaling/v1</span><br><span class="line">autoscaling/v2beta1</span><br><span class="line">batch/v1</span><br><span class="line">batch/v1beta1</span><br><span class="line">certificates.k8s.io/v1beta1</span><br><span class="line">events.k8s.io/v1beta1</span><br><span class="line">extensions/v1beta1</span><br><span class="line">networking.k8s.io/v1</span><br><span class="line">policy/v1beta1</span><br><span class="line">rbac.authorization.k8s.io/v1</span><br><span class="line">rbac.authorization.k8s.io/v1beta1</span><br><span class="line">storage.k8s.io/v1</span><br><span class="line">storage.k8s.io/v1beta1</span><br><span class="line">v1</span><br></pre></td></tr></table></figure>

<h3 id="2、help"><a href="#2、help" class="headerlink" title="2、help"></a>2、help</h3><p>用于查看命令帮助</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">显示全部的命令帮助提示</span></span><br><span class="line">kubectl --help</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">具体的子命令帮助，例如</span></span><br><span class="line">kubectl create --help</span><br></pre></td></tr></table></figure>

<h3 id="3、config"><a href="#3、config" class="headerlink" title="3、config"></a>3、config</h3><p>用于修改kubeconfig配置文件（用于访问api，例如配置认证信息）</p>
<h3 id="4、version"><a href="#4、version" class="headerlink" title="4、version"></a>4、version</h3><p>打印客户端和服务端版本信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# kubectl version</span><br><span class="line">Client Version: version.Info&#123;Major:&quot;1&quot;, Minor:&quot;15&quot;, GitVersion:&quot;v1.15.3&quot;, GitCommit:&quot;2d3c76f9091b6bec110a5e63777c332469e0cba2&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2019-08-19T11:13:54Z&quot;, GoVersion:&quot;go1.12.9&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;&#125;</span><br><span class="line">Server Version: version.Info&#123;Major:&quot;1&quot;, Minor:&quot;9&quot;, GitVersion:&quot;v1.9.0&quot;, GitCommit:&quot;925c127ec6b946659ad0fd596fa959be43f0cc05&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2017-12-15T20:55:30Z&quot;, GoVersion:&quot;go1.9.2&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5、plugin"><a href="#5、plugin" class="headerlink" title="5、plugin"></a>5、plugin</h3><p>运行一个命令行插件</p>
<hr>
<h2 id="七、高级命令"><a href="#七、高级命令" class="headerlink" title="七、高级命令"></a>七、高级命令</h2><h3 id="1、apply"><a href="#1、apply" class="headerlink" title="1、apply"></a>1、apply</h3><p>通过文件名或者标准输入对资源应用配置</p>
<p>通过文件名或控制台输入，对资源进行配置。 如果资源不存在，将会新建一个。可以使用 JSON 或者 YAML 格式。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">语法</span></span><br><span class="line">kubectl apply -f FILENAME</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将pod.json中的配置应用到pod</span></span><br><span class="line">kubectl apply -f ./pod.json</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将控制台输入的JSON配置应用到Pod</span></span><br><span class="line">cat pod.json | kubectl apply -f -</span><br><span class="line"></span><br><span class="line">选项</span><br><span class="line">-f, --filename=[]: 包含配置信息的文件名，目录名或者URL。</span><br><span class="line">      --include-extended-apis[=true]: If true, include definitions of new APIs via calls to the API server. [default true]</span><br><span class="line">  -o, --output=&quot;&quot;: 输出模式。&quot;-o name&quot;为快捷输出(资源/name).</span><br><span class="line">      --record[=false]: 在资源注释中记录当前 kubectl 命令。</span><br><span class="line">  -R, --recursive[=false]: Process the directory used in -f, --filename recursively. Useful when you want to manage related manifests organized within the same directory.</span><br><span class="line">      --schema-cache-dir=&quot;~/.kube/schema&quot;: 非空则将API schema缓存为指定文件，默认缓存到&#x27;$HOME/.kube/schema&#x27;</span><br><span class="line">      --validate[=true]: 如果为true，在发送到服务端前先使用schema来验证输入。</span><br></pre></td></tr></table></figure>

<h3 id="2、patch"><a href="#2、patch" class="headerlink" title="2、patch"></a>2、patch</h3><p>使用补丁修改，更新资源的字段，也就是修改资源的部分内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">语法</span></span><br><span class="line">kubectl patch (-f FILENAME | TYPE NAME) -p PATCH</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Partially update a node using strategic merge patch</span></span><br><span class="line">kubectl patch node k8s-node-1 -p &#x27;&#123;&quot;spec&quot;:&#123;&quot;unschedulable&quot;:true&#125;&#125;&#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Update a container<span class="string">&#x27;s image; spec.containers[*].name is required because it&#x27;</span>s a merge key</span></span><br><span class="line">kubectl patch pod valid-pod -p &#x27;&#123;&quot;spec&quot;:&#123;&quot;containers&quot;:[&#123;&quot;name&quot;:&quot;kubernetes-serve-hostname&quot;,&quot;image&quot;:&quot;new image&quot;&#125;]&#125;&#125;&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="3、replace"><a href="#3、replace" class="headerlink" title="3、replace"></a>3、replace</h3><p>通过文件或者标准输入替换原有资源</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">语法</span></span><br><span class="line">kubectl replace -f FILENAME</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Replace a pod using the data <span class="keyword">in</span> pod.json.</span></span><br><span class="line">kubectl replace -f ./pod.json</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Replace a pod based on the JSON passed into stdin.</span></span><br><span class="line">cat pod.json | kubectl replace -f -</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Update a single-container pod<span class="string">&#x27;s image version (tag) to v4</span></span></span><br><span class="line">kubectl get pod mypod -o yaml | sed &#x27;s/\(image: myimage\):.*$/\1:v4/&#x27; | kubectl replace -f -</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">Force replace, delete and then re-create the resource</span></span></span><br><span class="line">kubectl replace --force -f ./pod.json</span><br></pre></td></tr></table></figure>

<h3 id="4、convert"><a href="#4、convert" class="headerlink" title="4、convert"></a>4、convert</h3><p>不同的版本之间转换配置文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">语法</span></span><br><span class="line">kubectl convert -f FILENAME</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Convert <span class="string">&#x27;pod.yaml&#x27;</span> to latest version and <span class="built_in">print</span> to stdout.</span></span><br><span class="line">kubectl convert -f pod.yaml</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Convert the live state of the resource specified by <span class="string">&#x27;pod.yaml&#x27;</span> to the latest version</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">and <span class="built_in">print</span> to stdout <span class="keyword">in</span> json format.</span></span><br><span class="line">kubectl convert -f pod.yaml --local -o json</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Convert all files under current directory to latest version and create them all.</span></span><br><span class="line">kubectl convert -f . | kubectl create -f -</span><br></pre></td></tr></table></figure>


    </div>
</article>


<div id="comments-template"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script>
	if(!window.commentConfig) {
      window.commentConfig = {}
      window.commentConfig.title = 'K8s基础命令'
    }
</script>

                </div>
                <aside class="col-md-4 gal-left" id="sidebar">
    <!-- 此为sidebar的搜索框, 非搜索结果页面 -->
<aside id="sidebar-search">
    <div class="search hidden-xs" data-aos="fade-up" data-aos-duration="2000">
        <form class="form-inline clearfix" id="search-form" method="get"
              action="/search/index.html">
            <input type="text" name="s" class="form-control" id="searchInput" placeholder="搜索文章~" autocomplete="off">
            <button class="btn btn-danger btn-gal" type="submit">
                <i class="fa fa-search"></i>
            </button>
        </form>
    </div>
</aside>
    <aside id="sidebar-author">
    <div class="panel panel-gal" data-aos="flip-right" data-aos-duration="3000">
        <div class="panel-heading" style="text-align: center">
            <i class="fa fa-quote-left"></i>
            lzq
            <i class="fa fa-quote-right"></i>
        </div>
        <div class="author-panel text-center">
            <img src="/imgs/avatar.jpg" width="140" height="140"
                 alt="个人头像" class="author-image">
            <p class="author-description"></p>
        </div>
    </div>
</aside>
    
    <aside id="sidebar-recent_comments">
    <div class="panel panel-gal recent hidden-xs" data-aos="fade-up" data-aos-duration="2000">
        <div class="panel-heading">
            <i class="fa fa-comments"></i>
            最新评论
            <i class="fa fa-times-circle panel-remove"></i>
            <i class="fa fa-chevron-circle-up panel-toggle"></i>
        </div>
        <ul class="list-group list-group-flush"></ul>
    </div>
</aside>
    
    <!-- 要配置好leancloud才能开启此小工具 -->
    
    
    <aside id="sidebar-recent_posts">
    <div class="panel panel-gal recent hidden-xs" data-aos="fade-up" data-aos-duration="2000">
        <div class="panel-heading">
            <i class="fa fa-refresh"></i>
            近期文章
            <i class="fa fa-times-circle panel-remove"></i>
            <i class="fa fa-chevron-circle-up panel-toggle"></i>
        </div>
        <ul class="list-group list-group-flush">
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/13/Python-100-Days-master/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E5%95%86%E4%B8%9A%E9%A1%B9%E7%9B%AE/">Django开发商业项目</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/13/Python-100-Days-master/Day46-60/46.Django%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/">Django快速上手</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Python%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8-%E5%9F%BA%E7%A1%80%E7%AF%87-2020/">Python基础题</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/%E7%95%AA%E5%A4%96%E7%AF%87/%E8%8B%B1%E8%AF%AD%E9%9D%A2%E8%AF%95/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/%E7%95%AA%E5%A4%96%E7%AF%87/%E7%9F%A5%E4%B9%8E%E9%97%AE%E9%A2%98%E5%9B%9E%E7%AD%94/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/%E7%95%AA%E5%A4%96%E7%AF%87/%E7%94%A8%E5%87%BD%E6%95%B0%E8%BF%98%E6%98%AF%E7%94%A8%E5%A4%8D%E6%9D%82%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/%E7%95%AA%E5%A4%96%E7%AF%87/%E7%8E%A9%E8%BD%ACPyCharm/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/%E7%95%AA%E5%A4%96%E7%AF%87/%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E5%8F%82%E8%80%83%E7%A4%BA%E4%BE%8B/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/%E7%95%AA%E5%A4%96%E7%AF%87/%E6%88%91%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9%E4%BA%86Python/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/%E7%95%AA%E5%A4%96%E7%AF%87/%E5%B8%B8%E8%A7%81%E5%8F%8D%E7%88%AC%E7%AD%96%E7%95%A5%E5%8F%8A%E5%BA%94%E5%AF%B9%E6%96%B9%E6%A1%88/"></a>
                </span>
            </li>
            
        </ul>
    </div>
</aside>
    
    
    <aside id="sidebar-rand_posts">
    <div class="panel panel-gal recent hidden-xs" data-aos="fade-up" data-aos-duration="2000">
        <div class="panel-heading">
            <i class="fa fa-refresh"></i>
            随机文章
            <i class="fa fa-times-circle panel-remove"></i>
            <i class="fa fa-chevron-circle-up panel-toggle"></i>
        </div>
        <ul class="list-group list-group-flush">
            
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day01-15/13.%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day36-45/39.SQL%E8%AF%A6%E8%A7%A3%E4%B9%8BDQL/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day36-45/42.%E8%A7%86%E5%9B%BE%E3%80%81%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%87%E7%A8%8B/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day66-80/66.%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%A6%82%E8%BF%B0/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day66-80/76.%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BApandas-5/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E7%9A%84%E9%97%AE%E9%A2%98%E5%92%8C%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/%E7%95%AA%E5%A4%96%E7%AF%87/%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E5%8F%82%E8%80%83%E7%A4%BA%E4%BE%8B/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day21-30/code/old/javascript/homework02/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day21-30/code/new/web1901/css_practice_1.result/"></a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2024/12/12/Python-100-Days-master/Day21-30/code/new/web1901/js_practice_1/"></a>
                </span>
            </li>
            
        </ul>
    </div>
</aside>
    
    
    <aside id="gal-sets">
        <div class="panel panel-gal hidden-xs" data-aos="fade-up" data-aos-duration="2000">
            <ul class="nav nav-pills pills-gal">

                
                <li>
                    <a href="/2024/06/13/%E6%80%BB%E7%BB%93/K8S%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/index.html#sidebar-tags" data-toggle="tab" id="tags-tab">热门标签</a>
                </li>
                
                
                <li>
                    <a href="/2024/06/13/%E6%80%BB%E7%BB%93/K8S%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/index.html#sidebar-friend-links" data-toggle="tab" id="friend-links-tab">友情链接</a>
                </li>
                
                
                <li>
                    <a href="/2024/06/13/%E6%80%BB%E7%BB%93/K8S%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/index.html#sidebar-links" data-toggle="tab" id="links-tab">个人链接</a>
                </li>
                
            </ul>
            <div class="tab-content">
                
                <div class="cloud-tags tab-pane nav bs-sidenav fade" id="sidebar-tags">
    
    <a href="/tags/Python/" style="font-size: 11.96188042103799px;" class="tag-cloud-link">Python</a>
    
    <a href="/tags/Shell/" style="font-size: 8.827394954160017px;" class="tag-cloud-link">Shell</a>
    
    <a href="/tags/Linux/" style="font-size: 8.295944590788988px;" class="tag-cloud-link">Linux</a>
    
    <a href="/tags/Apache/" style="font-size: 19.364751190973205px;" class="tag-cloud-link">Apache</a>
    
    <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 9.975842285992783px;" class="tag-cloud-link">网络</a>
    
    <a href="/tags/Ceph/" style="font-size: 13.44061518611986px;" class="tag-cloud-link">Ceph</a>
    
    <a href="/tags/%E9%98%BF%E9%87%8C%E4%BA%91/" style="font-size: 10.753467644784209px;" class="tag-cloud-link">阿里云</a>
    
    <a href="/tags/K8s/" style="font-size: 16.69020266710127px;" class="tag-cloud-link">K8s</a>
    
    <a href="/tags/%E7%81%B0%E5%BA%A6%E5%8F%91%E5%B8%83/" style="font-size: 8.687254265546468px;" class="tag-cloud-link">灰度发布</a>
    
    <a href="/tags/MySQL/" style="font-size: 12.918493087183663px;" class="tag-cloud-link">MySQL</a>
    
    <a href="/tags/KVM/" style="font-size: 18.811913733681244px;" class="tag-cloud-link">KVM</a>
    
    <a href="/tags/OpenStack/" style="font-size: 12.16949010670152px;" class="tag-cloud-link">OpenStack</a>
    
    <a href="/tags/Docker/" style="font-size: 15.939444670675162px;" class="tag-cloud-link">Docker</a>
    
    <a href="/tags/ELK/" style="font-size: 9.758544677021758px;" class="tag-cloud-link">ELK</a>
    
    <a href="/tags/Ansible/" style="font-size: 8.932674344030445px;" class="tag-cloud-link">Ansible</a>
    
    <a href="/tags/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" style="font-size: 14.738555515110319px;" class="tag-cloud-link">负载均衡</a>
    
    <a href="/tags/Radis%E3%80%81Mongodb/" style="font-size: 17.153982218858467px;" class="tag-cloud-link">Radis、Mongodb</a>
    
    <a href="/tags/Nginx/" style="font-size: 14.091829971326444px;" class="tag-cloud-link">Nginx</a>
    
    <a href="/tags/Tomcat/" style="font-size: 13.638407082975178px;" class="tag-cloud-link">Tomcat</a>
    
    <a href="/tags/DevOps/" style="font-size: 8.153061838802572px;" class="tag-cloud-link">DevOps</a>
    
    <a href="/tags/Jenkins/" style="font-size: 18.32574778062456px;" class="tag-cloud-link">Jenkins</a>
    
    <a href="/tags/Prometheus/" style="font-size: 9.056581414846322px;" class="tag-cloud-link">Prometheus</a>
    
    <a href="/tags/Django/" style="font-size: 9.70780029152333px;" class="tag-cloud-link">Django</a>
    
    <a href="/tags/Selenium/" style="font-size: 10.595625909402482px;" class="tag-cloud-link">Selenium</a>
    
    <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 17.64880257229549px;" class="tag-cloud-link">爬虫</a>
    
    <a href="/tags/Scrapy/" style="font-size: 17.537818234098605px;" class="tag-cloud-link">Scrapy</a>
    
</div>
                
                
                <div class="friend-links tab-pane nav bs-sidenav fade" id="sidebar-friend-links">
    
    <li>
        <a href="https://www.runoob.com/" target="_blank">菜鸟教程</a>
    </li>
    
    <li>
        <a href="https://www.csdn.net/" target="_blank">CSDN</a>
    </li>
    
    <li>
        <a href="https://nowcoder.com/" target="_blank">牛客网</a>
    </li>
    
    <li>
        <a href="https://www.bilibili.com/" target="_blank">B站</a>
    </li>
    
    <li>
        <a href="https://leetcode-cn.com/" target="_blank">Leetcode</a>
    </li>
    
    <li>
        <a href="https://www.heroku.com/" target="_blank">Heroku</a>
    </li>
    
</div>
                
                
                <div class="links tab-pane nav bs-sidenav fade" id="sidebar-links">
    
    <li>
        <a href="https://github.com/lzq2024/" target="_blank">Github</a>
    </li>
    
    <li>
        <a href="https://gitee.com/lzq2024" target="_blank">Gitee</a>
    </li>
    
    <li>
        <a href="https://www.zhihu.com/people/yr1d3j/activities" target="_blank">知乎</a>
    </li>
    
</div>
                
            </div>
        </div>
    </aside>
    
</aside>
            </div>
        </div>
    </div>
    <footer id="gal-footer">
    <div class="container">
        Copyright © 2018 lzq Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>.&nbsp;Theme by <a href="https://github.com/Lzq2024" target="_blank">AONOSORA</a>
    </div>
</footer>

<!-- 回到顶端 -->
<div id="gal-gotop">
    <i class="fa fa-angle-up"></i>
</div>
</body>

<script src="/js/activate-power-mode.js"></script>

<script>

    // 配置highslide
	hs.graphicsDir = '/js/highslide/graphics/'
    hs.outlineType = "rounded-white";
    hs.dimmingOpacity = 0.8;
    hs.outlineWhileAnimating = true;
    hs.showCredits = false;
    hs.captionEval = "this.thumb.alt";
    hs.numberPosition = "caption";
    hs.align = "center";
    hs.transitions = ["expand", "crossfade"];
    hs.lang.number = '共%2张图, 当前是第%1张';
    hs.addSlideshow({
      interval: 5000,
      repeat: true,
      useControls: true,
      fixedControls: "fit",
      overlayOptions: {
        opacity: 0.75,
        position: "bottom center",
        hideOnMouseOut: true
      }
    })

    // 初始化aos
    AOS.init({
      duration: 1000,
      delay: 0,
      easing: 'ease-out-back'
    });

</script>
<script>
	POWERMODE.colorful = 'true';    // make power mode colorful
	POWERMODE.shake = 'true';       // turn off shake
	// TODO 这里根据具体情况修改
	document.body.addEventListener('input', POWERMODE);
</script>
<script>
    window.slideConfig = {
      prefix: '/imgs/slide/background',
      ext: 'jpg',
      maxCount: '7'
    }
</script>

<script src="/js/hs.js"></script>
<script src="/js/blog.js"></script>



<script src="/js/oni.js"></script>




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
  if(window.commentConfig) {
     window.commentConfig.client_id = 'Ov23lijIsO699goQayhr'
     window.commentConfig.client_secret = 'd4e885f9aa839494f3927fd3fb244c2794e471a8'
     window.commentConfig.owner = 'Lzq2024'
     window.commentConfig.repo = 'gitalk'
     window.commentConfig.id = 'Thu Jun 13 2024 00:00:00 GMT+0800'
   } else {
    window.commentConfig = {
 	client_id: 'Ov23lijIsO699goQayhr',
 	client_secret: 'd4e885f9aa839494f3927fd3fb244c2794e471a8',
	owner: 'Lzq2024',
	repo: 'gitalk',
	id: 'Thu Jun 13 2024 00:00:00 GMT+0800'
      }
   }
</script>

<script src="/js/comment/gitment.js"></script>


</html>